<!DOCTYPE html>
<html lang="en">
<head>
	<title>Shower Presentation Engine</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower/themes/ribbon/styles/screen-16x10.css">
</head>
<style>
	.flex {
		display: flex;
		justify-content: center;
	}
	.flex-m {
		display: flex;
		justify-content: space-between;
	}
</style>
<body class="shower list">

	<section class="slide" id="cover">
			<img class="cover" src="pictures/bg.jpg" alt="Hands on the orange typewriter in a park">
	</section>

	<section class="slide">
		<div class="flex">
			<img src="pictures/ssr.jpeg">
		</div>
	</section>

	<section class="slide">
		<h2>Server side rendering</h2>
		<ol>
			<li>Моментальное отображение в браузере, еще до загрузки JS</li>
			<li>Когда JS загрузится, React сделает VDOM diff и навесит обработчики событий</li>
			<li>Полноценный роутинг</li>
			<li>Страница может работать даже без JS => поддержка старых браузеров </li>
			<li>Если в результате JS ошибки React отвалится - SSR может помочь</li>
			<li>SEO friendly</li>
		</ol>
	</section>

	<section class="slide">
		<h2>General</h2>
		<ol>
			<li>Babelify</li>
			<li>Ignore CSS</li>
			<li>Window</li>
			<li>Static files paths</li>
		</ol>
	</section>

	<section class="slide">
		<h2>React.render vs React.renderToString</h2>
		<div class="flex-m">
			<ol>
				<li>getInitialState</li>
				<li>componentWillMount</li>
				<li>shouldComponentUpdate</li>
				<li>componentWillUpdate</li>
				<li>render</li>
				<li>componentDidUpdate</li>
				<li>componentDidMount</li>
				<li>componentWillUnmount</li>
			</ol>
			<ol>
				<li>getInitialState</li>
				<li>componentWillMount</li>
				<li>render</li>
			</ol>
		</div>
	</section>

	<section class="slide">
		<h2>State</h2>
		<ol>
			<li>Defaults (initial state)</li>
			<li>Loading state</li>
			<li>Получить асинхронный state
				<ul>
		    	<li>
					Вручную для каждой страницы
					<ul>
						<li>Рендерим</li>
				    	<li>Делаем запрос к апи и ждем пока промисы зарезолвятся</li>
				    	<li>Повторно рендерим с данными</li>
					</ul>
				</li>
		    	<li>Facebook Relay</li>
				<li>Middleware</li>
		    </ul>
			</li>
		</ol>
	</section>

	<section class="slide">
		<div class="flex">
			<img src="pictures/isomorphic.png">
		</div>
	</section>

	<section class="slide">
		<h2>Router</h2>
		<ol>
			<li>Browser Router</li>
			<li>Static Router
				<ul>
					<li>basename</li>
			    	<li>match</li>
					<li>history</li>
					<li>staticContext</li>
		    	</ul>
			</li>
		</ol>
	</section>

	<section class="slide" style="padding: 0px 100px 0">
		<pre>
			<code style="line-height: initial; padding: 10px; margin-left: -250px;">
				const context = {}
				const store = configureStore()<br/>				const markup = renderToString(<br/>				  &lt;Provider store={store}&gt;<br/>				    &lt;StaticRouter<br/>				      location={req.url}<br/>				      context={context}<br/>				    &gt;<br/>				      &lt;App/&gt;<br/>				    &lt;/StaticRouter&gt;<br/>				  &lt;/Provider&gt;<br/>				)<br/>				if (context.url) {<br/>				  // Somewhere a `&lt;Redirect&gt;` was rendered<br/>				  redirect(301, context.url)<br/>				} else {<br/>				  // we&#39;re good, send the response<br/>				  const RenderedApp = htmlData.replace(&#39;{{SSR}}&#39;, markup)<br/>				  res.send(RenderedApp)<br/>				}
			</code>
		</pre>
	</section>


	<section class="slide">
		<h2>Next.js</h2>
		<ul>
			<li>Automatic code splitting </li>
			<li>CSS / CSS in JS</li>
			<li>Production build</li>
			<li>Dynamic imports</li>
			<li>And more...</li>
		</ul>
	</section>

	<div class="progress"></div>

	<script src="shower/shower.min.js"></script>
	<!-- Copyright © 2017 Yours Truly, Famous Inc. -->

</body>
</html>
